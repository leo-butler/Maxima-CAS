#!/bin/sh
# edit next 2 lines to say where GCL was built, and where the current directory is.
GCLDIR=/local/sol/2.6/depot/build/GCL/gcl-2.3
MAXDIR=/local/sol/2.6/depot/build/Maxima/maxima-5.4
EMACS_SITE_LISP=/local/sol/2.6/depot/emacs-20.3/share/emacs/site-lisp

# determines where to install: eg /usr/local/maxima-5.0/ /usr/local/bin ...etc.
PREFIX_DIR=/local/sol/2.6/depot/maxima-5.4


if [ -f ${GCLDIR}/makedefs ] ;then 
cat ${GCLDIR}/makedefs > makedefs
else echo > makedefs
echo '${GCLDIR}/makedefs' "(${GCLDIR}/makedefs)" not found.. so leaving blank..

fi

echo GCLDIR=${GCLDIR} >>makedefs
echo MAXDIR=${MAXDIR} >>makedefs
echo PREFIX_DIR=${PREFIX_DIR} >>makedefs
echo EMACS_SITE_LISP=${EMACS_SITE_LISP} >> makedefs
echo '# end maxmakedefs' >> makedefs

echo inserting makedefs  in ..
for v in makefile src/makefile info/makefile elisp/makefile 
 do
 echo " $v,"
 ${GCLDIR}/xbin/file-sub makedefs $v "# begin makedefs" '# end maxmakedefs'
 mv tmpx $v
 done


